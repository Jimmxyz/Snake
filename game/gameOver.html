<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" type="image/png" href="FaviconSnake.png">
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&display=swap" rel="stylesheet">
    <title>Simple Snake | Game Over</title>
</head>
<body>
    <script>
        function backToHome(){
            window.location.replace("../index.html");
        }
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('score').innerHTML = localStorage.getItem('SCORE')
            document.getElementById('higShow').innerHTML = localStorage.getItem('HIGH_SCORE') + " apple collected"
            if(localStorage.getItem('HIGH_SCORE') === localStorage.getItem('SCORE')){
                document.getElementById("scoreShow").style.backgroundColor = "rgba(218, 184, 63, 0.527)";
                document.getElementById("shareLast").style.display = "none";
                document.getElementById("shareIT").style.display = "inline-block";
            }
            let sec = 10
            setInterval(() => {
                document.getElementById('time').innerHTML = sec+"s"
                if(sec === 0 || sec < 0){
                    window.location.replace("../index.html");
                }
                sec--;
            }, 1000)
        })  
        function share(){
            window.location.replace("../share/share.html");
        }

                document.addEventListener(
  "keydown",
  (event) => {
    const keyName = event.key;
    if ((keyName === "Enter")) {
      window.location.replace("../index.html");
    }},
  false
);

window.addEventListener("gamepadconnected", function(e) {
    var gp = navigator.getGamepads()[e.gamepad.index];
   });
  setInterval(function() {
    var gamepads = navigator.getGamepads();
    for (var i = 0; i < gamepads.length; i++) {
      var gp = gamepads[i];
      if (gp) {
        gp.buttons.forEach(function(button, index) {
          if (button.pressed) {
            if(index === 0){
                window.location.replace("../index.html");
            }
          }
        });
      }
    }
  }, 100);
 </script>
    <div id="menu">
        <h1 style="margin-top: 21.44px;">Game Over</h1>
        <button class="btn" onclick="backToHome()"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -1150 960 960" width="24px" fill="#e3e3e3"><path d="M240-80v-170q-39-17-68.5-45.5t-50-64.5q-20.5-36-31-77T80-520q0-158 112-259t288-101q176 0 288 101t112 259q0 42-10.5 83t-31 77q-20.5 36-50 64.5T720-250v170H240Zm80-80h40v-80h80v80h80v-80h80v80h40v-142q38-9 67.5-30t50-50q20.5-29 31.5-64t11-74q0-125-88.5-202.5T480-800q-143 0-231.5 77.5T160-520q0 39 11 74t31.5 64q20.5 29 50.5 50t67 30v142Zm100-200h120l-60-120-60 120Zm-80-80q33 0 56.5-23.5T420-520q0-33-23.5-56.5T340-600q-33 0-56.5 23.5T260-520q0 33 23.5 56.5T340-440Zm280 0q33 0 56.5-23.5T700-520q0-33-23.5-56.5T620-600q-33 0-56.5 23.5T540-520q0 33 23.5 56.5T620-440ZM480-160Z"/></svg>Continue</button>
        <p id="time">10s</p>
        <div id="scoreShow">
            <h4>Your Score : <h1 id="score"></h1> <h4>apple collected</h4></h4>
            <p></p>
            <button class="btn" onclick="share()" id="shareIT"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="M680-80q-50 0-85-35t-35-85q0-6 3-28L282-392q-16 15-37 23.5t-45 8.5q-50 0-85-35t-35-85q0-50 35-85t85-35q24 0 45 8.5t37 23.5l281-164q-2-7-2.5-13.5T560-760q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35q-24 0-45-8.5T598-672L317-508q2 7 2.5 13.5t.5 14.5q0 8-.5 14.5T317-452l281 164q16-15 37-23.5t45-8.5q50 0 85 35t35 85q0 50-35 85t-85 35Zm0-80q17 0 28.5-11.5T720-200q0-17-11.5-28.5T680-240q-17 0-28.5 11.5T640-200q0 17 11.5 28.5T680-160ZM200-440q17 0 28.5-11.5T240-480q0-17-11.5-28.5T200-520q-17 0-28.5 11.5T160-480q0 17 11.5 28.5T200-440Zm480-280q17 0 28.5-11.5T720-760q0-17-11.5-28.5T680-800q-17 0-28.5 11.5T640-760q0 17 11.5 28.5T680-720Zm0 520ZM200-480Zm480-280Z"/></svg> Share</button>
            <p></p>
            <br>
        </div>
        <p></p>
        <div id="highScoreShow"><p style="color: rgb(255, 255, 255); font-size: small;">Hight score : </p><p id="higShow" style="color: rgb(255, 255, 255); font-size: smaller;">20 apple collected</p><p style="font-size: smaller;" id="shareLast"><a href="../share/share.html"><svg xmlns="http://www.w3.org/2000/svg" height="14px" viewBox="0 -1150 960 960" width="14px" fill="#9D9D9D"><path d="M648-96q-50 0-85-35t-35-85q0-9 4-29L295-390q-16 14-36.05 22-20.04 8-42.95 8-50 0-85-35t-35-85q0-50 35-85t85-35q23 0 43 8t36 22l237-145q-2-7-3-13.81-1-6.81-1-15.19 0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35q-23 0-43-8t-36-22L332-509q2 7 3 13.81 1 6.81 1 15.19 0 8.38-1 15.19-1 6.81-3 13.81l237 145q16-14 36.05-22 20.04-8 42.95-8 50 0 85 35t35 85q0 50-35 85t-85 35Zm0-72q20.4 0 34.2-13.8Q696-195.6 696-216q0-20.4-13.8-34.2Q668.4-264 648-264q-20.4 0-34.2 13.8Q600-236.4 600-216q0 20.4 13.8 34.2Q627.6-168 648-168ZM216-432q20.4 0 34.2-13.8Q264-459.6 264-480q0-20.4-13.8-34.2Q236.4-528 216-528q-20.4 0-34.2 13.8Q168-500.4 168-480q0 20.4 13.8 34.2Q195.6-432 216-432Zm432-264q20.4 0 34.2-13.8Q696-723.6 696-744q0-20.4-13.8-34.2Q668.4-792 648-792q-20.4 0-34.2 13.8Q600-764.4 600-744q0 20.4 13.8 34.2Q627.6-696 648-696Zm0 480ZM216-480Zm432-264Z"/></svg> share</a></p></div>
    </div>
</body>
</html>